{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst tableHead = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\nconst rows = [...tbody.rows];\n\nlet sortedColumn = null;\nlet sortOrder = 'asc';\n\ntableHead.addEventListener('click', (e) => {\n  if (e.target.closest('th')) {\n    const header = e.target.closest('th');\n    const sortName = header.textContent;\n    const cellIndex = e.target.closest('th').cellIndex;\n\n    if (cellIndex === sortedColumn) {\n      sortOrder = sortOrder === 'asc' ? 'desc' : 'asc';\n    } else {\n      sortedColumn = cellIndex;\n      sortOrder = 'asc';\n    }\n\n    if (sortOrder === 'asc') {\n      rows.sort((a, b) => {\n        switch (sortName) {\n          case 'Position':\n          case 'Name':\n          case 'Office':\n            return a.cells[cellIndex].textContent.localeCompare(\n              b.cells[cellIndex].textContent,\n            );\n\n          case 'Salary':\n            const salaryA = a.cells[cellIndex].textContent.replace(/[$,]/g, '');\n            const salaryB = b.cells[cellIndex].textContent.replace(/[$,]/g, '');\n\n            return salaryA - salaryB;\n\n          default:\n            return (\n              a.cells[cellIndex].textContent - b.cells[cellIndex].textContent\n            );\n        }\n      });\n\n      tbody.innerHTML = '';\n      rows.forEach((row) => tbody.appendChild(row));\n    }\n\n    if (sortOrder === 'desc') {\n      rows.reverse();\n\n      tbody.innerHTML = '';\n      rows.forEach((row) => tbody.appendChild(row));\n    }\n  }\n});\n\nlet selectedRow = null;\n\ntbody.addEventListener('click', (e) => {\n  const row = e.target.closest('tr');\n  const rowIndex = row.sectionRowIndex;\n\n  if (selectedRow === null) {\n    tbody.rows[rowIndex].classList.add('active');\n    selectedRow = rowIndex;\n  } else {\n    tbody.rows[selectedRow].classList.remove('active');\n\n    selectedRow = rowIndex;\n    tbody.rows[rowIndex].classList.add('active');\n  }\n});\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\nform.noValidate = true;\ndocument.body.appendChild(form);\n\nconst countries = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\n\nconst formName =\n  '<label>Name: <input name=\"name\" data-qa=\"name\" type=\"text\"></label>';\nconst formPosition = `<label>Position:\n<input name=\"position\" data-qa=\"position\" type=\"text\"></label>`;\nconst formCountry = `\n  <label> Country:\n  <select name=\"office\" data-qa=\"office\">\n    ${countries.map((country) => `<option value=\"${country}\">${country}</option>`).join('')}\n  </select>\n  </label>`;\nconst formAge = `<label>Age:\n  <input name=\"age\" data-qa=\"age\" type=\"number\">\n</label>`;\nconst formSalary = `<label>Salary: <input name=\"salary\"\n   data-qa=\"salary\"\n   type=\"number\">\n  </label>`;\nconst button = '<button>Save to table</button>';\n\nform.insertAdjacentHTML('afterbegin', button);\nform.insertAdjacentHTML('afterbegin', formSalary);\nform.insertAdjacentHTML('afterbegin', formAge);\nform.insertAdjacentHTML('afterbegin', formCountry);\nform.insertAdjacentHTML('afterbegin', formPosition);\nform.insertAdjacentHTML('afterbegin', formName);\n\nconst inputs = form.querySelectorAll('input');\n\ninputs.forEach((input) => input.setAttribute('required', ''));\n\nconst createNotification = (text, className) => {\n  const notification = document.createElement('div');\n  notification.classList.add('notification', className);\n  notification.setAttribute('data-qa', 'notification');\n\n  const desctiption = document.createElement('h1');\n  desctiption.classList.add('title');\n  desctiption.textContent = text;\n  notification.appendChild(desctiption);\n\n  return notification;\n};\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  // eslint-disable-next-line no-shadow\n  const name = form.querySelector('[data-qa=\"name\"]').value;\n  const position = form.querySelector('[data-qa=\"position\"]').value;\n  const age = form.querySelector('[data-qa=\"age\"]').value;\n  const salary = form.querySelector('[data-qa=\"salary\"]').value;\n  const office = form.querySelector('[data-qa=\"office\"]').value;\n\n  let isValid = true;\n  let message = '';\n\n  if (name.trim().length < 4) {\n    message = 'Name value has less than 4 letters';\n    isValid = false;\n  } else if (position.trim().length === 0) {\n    message = 'Position value is invalid';\n    isValid = false;\n  } else if (age < 18 || age > 90) {\n    message = 'Age value is less than 18 or more than 90'\n    isValid = false;\n  }\n  \n  if (!isValid) {\n      document.body.append(createNotification(message, 'error'))\n    } else {\n    document.body.append(\n      createNotification('Employee successfully added', 'success'),\n    );\n\n    const newPerson = [\n      name.trim(),\n      position.trim(),\n      office,\n      age,\n      `$${(+(salary / 1000)).toFixed(3).replace('.', ',')}`,\n    ];\n\n    const newRow = tbody.insertRow(-1);\n\n    newPerson.forEach((item, index) => {\n      const cell = newRow.insertCell(index);\n\n      cell.innerText = item;\n    });\n\n    form.reset();\n  }\n\n  setTimeout(() => {\n    const notifications = document.querySelectorAll('.notification');\n\n    notifications.forEach((notification) => {\n      notification.parentNode.removeChild(notification);\n    });\n  }, 3000);\n});\n\n// eslint-disable-next-line no-shadow\ntbody.addEventListener('dblclick', (e) => {\n  const cell = e.target;\n  let editedCell = cell.textContent;\n\n  cell.innerHTML = `<input class='cell-input' value='${editedCell}' />`;\n\n  const input = e.target.querySelector('.cell-input');\n\n  input.focus();\n\n  // eslint-disable-next-line no-shadow\n  const saveChanges = (e) => {\n    if (e.type === 'blur' || (e.type === 'keyup' && e.key === 'Enter')) {\n      const newText = e.target.value.trim() || editedCell;\n\n      cell.innerText = newText;\n      editedCell = null;\n    }\n  };\n\n  input.addEventListener('blur', saveChanges);\n  input.addEventListener('keyup', saveChanges);\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}